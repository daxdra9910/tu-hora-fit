<ion-modal [isOpen]="isOpen">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Crear cliente</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="toggleOpen()">
            <ion-icon icon="close" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <ion-list lines="none">
          <ion-item>
            <ion-input label="Nombre" labelPlacement="floating" formControlName="name" type="text"
                       autocomplete="name" placeholder="Ingresa tu nombre"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
            <small class="ion-padding-start">Nombre requerido</small>
          </ion-text>

          <ion-item>
            <ion-input label="Teléfono" labelPlacement="floating" formControlName="phone" type="number"
                       autocomplete="phone" placeholder="Ingresa tu teléfono"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="form.get('phone')?.touched && form.get('phone')?.invalid">
            <small class="ion-padding-start">Teléfono requerido</small>
          </ion-text>

          <ion-item>
            <ion-input label="Fecha de nacimiento" labelPlacement="floating" formControlName="birthdate" type="date"
                       autocomplete="birthdate" placeholder="Ingresa tu fecha de nacimiento"></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="form.get('birthdate')?.touched && form.get('birthdate')?.invalid">
            <small class="ion-padding-start">Fecha de nacimiento requerida</small>
          </ion-text>

          <ion-item>
            <ion-select label="Rol" label-placement="floating" formControlName="role" cancel-text="Cancelar"
                        ok-text="Confirmar">
              <ion-select-option [value]="possibleRoles.ADMIN">Administrador</ion-select-option>
              <ion-select-option [value]="possibleRoles.CLIENT">Cliente</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-text color="danger" *ngIf="form.get('role')?.touched && form.get('role')?.invalid">
            <small class="ion-padding-start">Rol requerido</small>
          </ion-text>

          <ion-item>
            <ion-select label="Estado" label-placement="floating" formControlName="state" cancel-text="Cancelar"
                        ok-text="Confirmar">
              <ion-select-option [value]="possibleStates.ACTIVE">Activo</ion-select-option>
              <ion-select-option [value]="possibleStates.INACTIVE">Inactivo</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-text color="danger" *ngIf="form.get('state')?.touched && form.get('state')?.invalid">
            <small class="ion-padding-start">Estado requerido</small>
          </ion-text>

        </ion-list>

        <ion-button color="primary" expand="block" type="submit" [disabled]="form.invalid">
          Guardar
        </ion-button>
      </form>
    </ion-content>
  </ng-template>
</ion-modal>
